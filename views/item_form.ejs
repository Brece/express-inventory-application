<%- include('partials/_header') %>
<!-- TODO: implement select options and checkboxes -->
<div>
    <h1><%= title %></h1>
    <form
        action="<%= update ? `/item/${ item._id }/update` : '/item/create' %>"
        method="POST"
        class="c-form">
        <div class="c-form__group">
            <label for="name">Name</label>
            <input 
                type="text"
                id="name"
                name="name"
                required
                placeholder="e.g. Electronics"
                value="<%= item ? item.name : '' %>">
        </div>
        <div class="c-form__group">
            <label for="description">Description</label>
            <textarea type="text" id="description" required name="description" rows="5" cols="33"><%= item ? item.description : '' %></textarea>
        </div>
        <div class="c-form__group">
            <label for="location">Location</label>
            <input 
                type="text"
                id="location"
                name="location"
                required
                placeholder="e.g. Asia"
                value="<%= item ? item.location : '' %>">
        </div>
        <button class="c-btn" type="submit">Submit</button>
    </form>
</div>

<% if(errors) { %>
    <div class="c-errors">
        <% errors.forEach(function (err, index) { %>
            <div>
                <h4>Error #<%= index + 1 %></h4>
                <p>Error Message: <%= err.msg %></p>
                <p>Parameter: <%= err.param %></p>
            </div>
        <% }) %> 
    </div>
<% } %> 

<%- include('partials/_footer') %>
